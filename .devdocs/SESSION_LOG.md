- 2026-02-14 16:35:19 | Renamed companion integration references from `AJpC Family Graph` to `AJpC Tools Graph` across main-addon code/docs/UI identifiers. Folder rename intentionally not performed.
- 2026-02-14 18:44:01 | Mass Linker hard-cut: switched rules to dynamic tab list schema, added Basic/Advanced(Tag/NoteType) modes, free selector separator, grouped render output with per-rule group name, and card-target (cid) link rendering/handling.
- 2026-02-14 18:44:30 | Updated docs/config samples for Mass Linker hard-cut (README, config-example, CHANGELOG) and rewrote live config mass_linker block to list-based rules schema (UTF-8 no BOM).
- 2026-02-14 18:44:59 | Link renderer/core updated for cid-card command handling (convert_links + pycmd handlers + existing target detection) to support Mass Linker card-target mode.
- 2026-02-14 18:47:08 | Mass Linker UI: mode-based visibility now hides/shows full form rows (label + input), not only inputs; advanced-notetype card-only mapping rows hidden unless target_mode=card.
- 2026-02-14 18:48:49 | Mass Linker UI template selection switched from free-text to checkable dropdowns with template names for target templates and advanced source fallback templates; option lists refresh by selected note type scope.
- 2026-02-14 18:51:22 | Mass Linker basic mode updated: target/source condition editors hidden in UI, condition data cleared on save for basic mode, and provider condition evaluation skipped in basic mode.
- 2026-02-14 19:15:32 | Mass Linker UI/logic cleanup: card mapping now equals-only, mapping template selection switched to dropdown options from source note type, fallback hint clarified, and settings order/labels regrouped into Target and Source sections (e.g. Target side, Link target kind).
- 2026-02-14 19:25:49 | Mass Linker General default label field removed from UI/save; link label fallback now defaults to note type sort field (final fallback first field).
- 2026-02-14 19:31:09 | Mass Linker dropdown isolation fix: template option providers no longer fall back to all note types when rule-local note type selection is empty (prevents cross-rule template bleed in new rule tabs).
- 2026-02-14 19:40:40 | Link preview behavior: added distinct-backside detection and front-forcing only for cards without a real backside; cards with backside keep default preview behavior.
- 2026-02-14 19:42:11 | Mass Linker settings layout overhaul: combined Rule row (Rule Name | Group Name | Enabled), moved Target conditions directly under Target card templates, made target/source condition editors scrollable, moved Mapping field directly above Card mappings, and updated mapping/fallback hints to reflect dropdown-based template selection.
- 2026-02-14 20:06:49 | Added Graph API provider-edge endpoint (get_link_provider_edges / get_provider_link_edges) that executes Link Core providers and returns normalized provider-resolved edge rows for companion graph layer generation; updated API exports/docs/logging map.
[2026-02-14 20:44:37] Codex: Replaced hardcoded graph addon folder detection in modules/general.py with dynamic callback/meta/file-based detection (no fixed dir name).
[2026-02-14 21:01:59] Codex: Added graph_api install/selfcheck logging (install call, installed keys/version, selfcheck ok/missing, mw missing warning) to expose runtime API binding state.
[2026-02-14 22:07:32] Codex: Implemented Graph API + Mass Linker performance pass: added ProviderContext request cache, provider target-note-type scoping, provider side gating hooks, request-local query/ref caches in mass_linker, removed per-call mass_linker config reload, and added edge-build timing metrics.
[2026-02-16 19:31:00] Codex: Config architecture stage 1 - reduced root config.py to module-agnostic core keys and removed module-specific runtime globals.
[2026-02-16 19:31:30] Codex: Config architecture stage 2 - moved migration functions out of config.py into config_migrations.py and rewired bootstrap calls in __init__.py.
[2026-02-16 19:32:00] Codex: Added README architecture note + scripts/check_config_migrations.py and validated migration behavior via local script run.
[2026-02-16 19:32:30] Codex: AGENTS catch-up - added missing .devdocs documentation files, updated CHANGELOG, and removed UTF-8 BOM from config.py/config_migrations.py.
[2026-02-16 19:33:00] Codex: AGENTS compliance follow-up - unignored and versioned required .devdocs files, updated README/CHANGELOG, and reran config smoke checks.
[2026-02-16 19:36:01] Codex: Promoted `debug/general/info` from dynamic `modules/` to fixed `core/` components, rewired bootstrap/settings tab build order, and updated architecture/reference/logging/style docs + changelog.
[2026-02-16 20:52:51] Codex: Stage-1 refactor continued: moved Link-Core helper ownership to `modules/_link_core/*`, removed dynamic `modules/browser_graph.py`, and wired browser-graph helper init through `modules/link_core.py`.
[2026-02-16 20:52:51] Codex: Applied hardcut rename `family_gate` -> `family_priority` (module id, provider id, config namespace), corrected Family/Card-Stages coupling checks, and updated labels/status strings.
[2026-02-16 20:52:51] Codex: Extracted restart runtime from `core/debug.py` into `modules/restart.py`, removed `debug.show_restart_button`, removed `api/note_editor_api.py`, and removed editor fallback keys from `_ajpc_graph_api`.
[2026-02-16 20:52:51] Codex: Updated Stage-1 docs (`README`, `CHANGELOG`, `.devdocs/ARCHITECTURE_GUIDE.md`, `.devdocs/REFERENCE.md`, `.devdocs/STYLING_GUIDE.md`, `.devdocs/logging.md`) and cleaned tracked `restart_helper/build/*` artifacts.
[2026-02-16 21:13:06] Codex: Moved `restart_helper/` into module scope `modules/restart_helper/`, updated runtime helper path resolution in `modules/restart.py`, refreshed PyInstaller spec to script-relative source path, updated ignore path to `modules/restart_helper/build/`, and synced docs.
[2026-02-16 21:17:15] Codex: Fixed Family Priority family-id search robustness for IDs with spaces by switching to quoted regex query path with compatibility fallback in `modules/family_priority.py`; updated README/CHANGELOG.
[2026-02-16 21:23:57] Codex: Example Unlocker mapping diagnostics refined in `modules/example_gate.py`: warn/info summaries now emit grouped reason counts and `nid:reason` samples (instead of NID-only lists); synced docs and changelog.
[2026-02-16 21:34:16] Codex: Added Example Unlocker settings-side mapping debug lookup (`NID + Search`) in `modules/example_gate.py`, including popup output with detected lemma and explicit lookup term, plus Browser filter action for related notes; refactored vocab index build into shared helper used by runtime apply and debug lookup.
[2026-02-16 21:44:23] Codex: Adjusted Family Priority fallback lookup logging in `modules/family_priority.py`: failed single query attempts now log `WARN`, while `ERROR` is emitted only when all fallback variants fail; updated docs/logging map accordingly.
[2026-02-16 22:01:29] Codex: Updated Example Unlocker mapping in `modules/example_gate.py` for up-to-2 target-card resolution with all-target threshold gating, introduced `data-lemma` marker preference for `cloze == lemma`, and extended debug popup/log output to show resolved `target_cids`.
[2026-02-16 22:10:45] Codex: Added single-kanji lemma guard in `modules/example_gate.py` (`single_kanji_surface_guard`) to prevent semantic remaps between distinct single CJK ideographs (e.g., `歳 -> 年`) from overriding surface lookup.
